<div class="navbar bg-base-100 fixed top-0 z-[1000]">
  <div class="navbar-start">
    <%= link_to demo_path, class: 'flex items-center gap-2 px-2 py-1 rounded-lg group' do %>
      <div class="p-2 bg-primary rounded-lg transition-all duration-300 group-hover:shadow-[0_0_20px_rgba(var(--p),0.7)] group-hover:scale-110">
        <svg xmlns="http://www.w3.org/2000/svg" class="size-6 text-base-100" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
          <path d="M3.3 7l8.7 5 8.7-5"></path>
          <path d="M12 22V12"></path>
        </svg>
      </div>
      <span class="font-bold">
        Rails<span class="text-primary border-primary">Maker</span>
      </span>
    <% end %>
  </div>

  <div class="navbar-center hidden md:flex">
    <ul class="menu menu-horizontal px-1 gap-2 z-50">
      <li>
        <%= link_to demo_path, 
            class: "#{current_page?(demo_path) ? 'active bg-base-200 font-medium' : ''} flex gap-2 items-center #{!signed_in? ? 'pointer-events-none opacity-50' : ''} relative", 
            data: { tooltip: signed_in? ? nil : "Please sign in first" } do %>
          <svg xmlns="http://www.w3.org/2000/svg" class="size-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
          Dashboard
        <% end %>
      </li>
      <li>
        <%= link_to analytics_path, 
            class: "#{current_page?(analytics_path) ? 'active bg-base-200 font-medium' : ''} flex gap-2 items-center #{!signed_in? ? 'pointer-events-none opacity-50' : ''}",
            data: { tooltip: signed_in? ? nil : "Please sign in first" } do %>
          <svg xmlns="http://www.w3.org/2000/svg" class="size-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 12h-4l-3 9L9 3l-3 9H2"></path></svg>
          Analytics
          <div class="badge badge-sm badge-primary">New</div>
        <% end %>
      </li>
      <li>
        <%= link_to support_path, 
            class: "#{current_page?(support_path) ? 'active bg-base-200 font-medium' : ''} flex gap-2 items-center #{!signed_in? ? 'pointer-events-none opacity-50' : ''}",
            data: { tooltip: signed_in? ? nil : "Please sign in first" } do %>
          <svg xmlns="http://www.w3.org/2000/svg" class="size-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>
          Support
        <% end %>
      </li>
    </ul>
  </div>

  <div class="navbar-end">
    <!-- Only show notifications if signed in -->
    <% if signed_in? %>
      <!-- Notifications Dropdown -->
      <div class="dropdown dropdown-end hidden md:block">
        <div tabindex="0" role="button" class="btn btn-ghost btn-circle">
          <div class="indicator">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" /></svg>
            <span class="badge badge-xs badge-primary indicator-item"></span>
          </div>
        </div>
        <ul tabindex="0" class="dropdown-content menu menu-sm z-[1] p-2 shadow-xl bg-base-100 rounded-box w-80 mt-4">
          <li class="menu-title px-4 py-2">
            <span class="font-medium">Notifications</span>
          </li>
          <div class="px-4">
            <div class="divide-y">
              <div class="py-4">
                <div class="flex items-center gap-4">
                  <div class="w-2 h-2 bg-primary rounded-full"></div>
                  <div>
                    <p class="font-medium">New feature available</p>
                    <p class="text-sm opacity-70">Check out our latest analytics dashboard</p>
                    <span class="text-xs opacity-50">2 hours ago</span>
                  </div>
                </div>
              </div>
              <div class="py-4">
                <div class="flex items-center gap-4">
                  <div class="w-2 h-2 bg-primary rounded-full"></div>
                  <div>
                    <p class="font-medium">System Update</p>
                    <p class="text-sm opacity-70">Performance improvements and bug fixes</p>
                    <span class="text-xs opacity-50">5 hours ago</span>
                  </div>
                </div>
              </div>
            </div>
            <button class="btn btn-disabled btn-sm w-full mt-4">View all notifications</button>
          </div>
        </ul>
      </div>
    <% end %>

    <!-- Profile/Sign In Button -->
    <div class="dropdown dropdown-end ml-2">
      <div tabindex="0" role="button" class="btn btn-ghost btn-circle">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
        </svg>
      </div>
      <ul tabindex="0" class="dropdown-content menu menu-sm z-[1] p-2 shadow-xl bg-base-100 rounded-box w-52 mt-4">
        <% if signed_in? %>
          <li class="menu-title px-4 py-2">
            <span class="font-medium">Account</span>
          </li>
          <li class="menu-disabled">
            <a class="flex gap-2">
              <svg xmlns="http://www.w3.org/2000/svg" class="size-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M20 7h-3a2 2 0 0 1-2-2V2"></path>
                <path d="M9 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h7l4 4v10a2 2 0 0 1-2 2H9z"></path>
                <path d="M3 15h6"></path>
                <path d="M4 18h6"></path>
              </svg>
              Settings
            </a>
          </li>
          <div class="divider my-1"></div>
          <li>
            <%= link_to sign_out_path, class: "flex gap-2 text-error", data: { turbo_method: :delete } do %>
              <svg xmlns="http://www.w3.org/2000/svg" class="size-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                <polyline points="16 17 21 12 16 7"></polyline>
                <line x1="21" y1="12" x2="9" y2="12"></line>
              </svg>
              Sign out
            <% end %>
          </li>
        <% else %>
          <li>
            <%= link_to sign_in_path, class: "flex gap-2" do %>
              <svg xmlns="http://www.w3.org/2000/svg" class="size-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path>
                <polyline points="10 17 15 12 10 7"></polyline>
                <line x1="15" y1="12" x2="3" y2="12"></line>
              </svg>
              Sign in
            <% end %>
          </li>
        <% end %>
      </ul>
    </div>
  </div>
</div>

<%# Mobile Bottom Dock Navigation - only shown on mobile %>
<div class="md:hidden">
  <div class="dock dock-md bg-base-100 fixed bottom-0 left-0 right-0 border-t border-gray-200 dark:border-gray-600 z-[1000]">
    <%= link_to demo_path, 
        class: "#{current_page?(demo_path) ? 'dock-active' : ''} relative", 
        disabled: signed_in? ? nil : 'disabled',
        data: { tooltip: signed_in? ? nil : "Please sign in first" } do %>
      <svg class="size-[1.2em]" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <g fill="currentColor" stroke-linejoin="miter" stroke-linecap="butt">
          <rect x="3" y="3" width="18" height="18" rx="2" ry="2" fill="none" stroke="currentColor" stroke-linecap="square" stroke-miterlimit="10" stroke-width="2"></rect>
          <line x1="3" y1="9" x2="21" y2="9" stroke="currentColor" stroke-miterlimit="10" stroke-width="2"></line>
        </g>
      </svg>
      <span class="dock-label">Dashboard</span>
    <% end %>

    <%= link_to analytics_path, 
        class: "#{current_page?(analytics_path) ? 'dock-active' : ''}", 
        disabled: signed_in? ? nil : 'disabled',
        data: { tooltip: signed_in? ? nil : "Please sign in first" } do %>
      <svg xmlns="http://www.w3.org/2000/svg" class="size-[1.2em]" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 12h-4l-3 9L9 3l-3 9H2"></path></svg>
      <span class="dock-label">Analytics</span>
    <% end %>

    <%= link_to support_path, 
        class: "#{current_page?(support_path) ? 'dock-active' : ''}", 
        disabled: signed_in? ? nil : 'disabled',
        data: { tooltip: signed_in? ? nil : "Please sign in first" } do %>
      <svg xmlns="http://www.w3.org/2000/svg" class="size-[1.2em]" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>
      <span class="dock-label">Support</span>
    <% end %>

    <% if signed_in? %>
      <%= link_to sign_out_path, data: { turbo_method: :delete } do %>
        <svg xmlns="http://www.w3.org/2000/svg" class="size-[1.2em]" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
          <polyline points="16 17 21 12 16 7"></polyline>
          <line x1="21" y1="12" x2="9" y2="12"></line>
        </svg>
        <span class="dock-label">Sign out</span>
      <% end %>
    <% else %>
      <%= link_to sign_in_path do %>
        <svg xmlns="http://www.w3.org/2000/svg" class="size-[1.2em]" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M15 7h3a5 5 0 0 1 0 10h-3"></path>
          <path d="M6 10a2 2 0 1 1-2-2V6a2 2 0 1 1 2-2h3a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H6z"></path>
        </svg>
        <span class="dock-label">Sign in</span>
      <% end %>
    <% end %>
  </div>
</div>
